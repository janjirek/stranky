import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.BB0SbgvW.js";import M from"./terms-dialog.L3E2puN1.js";import{S as _,T as K,P as q}from"./utils.DFkcVZyr.js";import"./index.DjljD8Qc.js";import"./index.BKWGwx0l.js";class b{constructor(s=0,r="Network Error"){this.status=s,this.text=r}}const O=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,s)=>Promise.resolve(localStorage.setItem(e,s)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:O()},v=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},B=(e,s="https://api.emailjs.com")=>{if(!e)return;const r=v(e);i.publicKey=r.publicKey,i.blockHeadless=r.blockHeadless,i.storageProvider=r.storageProvider,i.blockList=r.blockList,i.limitRate=r.limitRate,i.origin=r.origin||s},y=async(e,s,r={})=>{const o=await fetch(i.origin+e,{method:"POST",headers:r,body:s}),a=await o.text(),n=new b(o.status,a);if(o.ok)return n;throw n},k=(e,s,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},D=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},N=e=>e.webdriver||!e.languages||e.languages.length===0,S=()=>new b(451,"Unavailable For Headless Browser"),I=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},A=e=>!e.list?.length||!e.watchVariable,J=(e,s)=>e instanceof FormData?e.get(s):e[s],P=(e,s)=>{if(A(e))return!1;I(e.list,e.watchVariable);const r=J(s,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},T=()=>new b(403,"Forbidden"),Z=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},U=async(e,s,r)=>{const o=Number(await r.get(e)||0);return s-Date.now()+o},L=async(e,s,r)=>{if(!s.throttle||!r)return!1;Z(s.throttle,s.id);const o=s.id||e;return await U(o,s.throttle,r)>0?!0:(await r.set(o,Date.now().toString()),!1)},R=()=>new b(429,"Too Many Requests"),W=async(e,s,r,o)=>{const a=v(o),n=a.publicKey||i.publicKey,d=a.blockHeadless||i.blockHeadless,h=a.storageProvider||i.storageProvider,p={...i.blockList,...a.blockList},f={...i.limitRate,...a.limitRate};return d&&N(navigator)?Promise.reject(S()):(k(n,e,s),D(r),r&&P(p,r)?Promise.reject(T()):await L(location.pathname,f,h)?Promise.reject(R()):y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:e,template_id:s,template_params:r}),{"Content-type":"application/json"}))},Y=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},$=e=>typeof e=="string"?document.querySelector(e):e,G=async(e,s,r,o)=>{const a=v(o),n=a.publicKey||i.publicKey,d=a.blockHeadless||i.blockHeadless,h=i.storageProvider||a.storageProvider,p={...i.blockList,...a.blockList},f={...i.limitRate,...a.limitRate};if(d&&N(navigator))return Promise.reject(S());const u=$(r);k(n,e,s),Y(u);const c=new FormData(u);return P(p,c)?Promise.reject(T()):await L(location.pathname,f,h)?Promise.reject(R()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",s),c.append("user_id",n),y("/api/v1.0/email/send-form",c))},Q={init:B,send:W,sendForm:G,EmailJSResponseStatus:b};function ie({termsTitle:e,children:s}){const[r,o]=m.useState(""),[a,n]=m.useState(""),[d,h]=m.useState(""),[p,f]=m.useState(""),[u,c]=m.useState(""),[E,F]=m.useState(!1),[V,x]=m.useState(!1),[j,g]=m.useState(!1),H=l=>{l.preventDefault();var C={firstname:r,surname:a,email:d,phone:p,message:u};g(!0),Q.send(_,K,C,q).then(function(w){w.status===200?(F(!0),o(""),n(""),h(""),f(""),c("")):(x(!0),setTimeout(()=>{x(!1)},1e4)),g(!1)},function(w){x(!0),setTimeout(()=>{x(!1)},1e4),g(!1)})},z=()=>!(r===""||a===""||u===""||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d));return t.jsxs("div",{"data-aos":"flip-left",children:[t.jsxs("div",{className:"mb-10",children:[t.jsx("h1",{className:"mb-2 font-inter text-4xl font-extrabold",children:"Kontaktní Formulář"}),t.jsx("div",{className:"text-gray-500",children:"Máte zájem o mé služby? Neváhejte mě kontaktovat!"})]}),t.jsx("form",{className:"mb-12",onSubmit:H,children:t.jsxs("div",{className:"-my-6 divide-y divide-gray-200",children:[t.jsxs("div",{className:"py-6",children:[t.jsxs("div",{className:"mb-5 text-lg font-bold text-gray-800",children:[t.jsx("span",{className:"text-blue-500",children:"1."})," Uveďte Své Kontaktní Údaje"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium",htmlFor:"name",children:["Jméno ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:r,onChange:l=>o(l.target.value),id:"name",className:"form-input w-full",type:"text",required:!0,placeholder:"Jméno"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium",htmlFor:"surname",children:["Příjmení ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:a,onChange:l=>n(l.target.value),id:"surname",className:"form-input w-full",type:"text",required:!0,placeholder:"Příjmení"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium",htmlFor:"email",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:d,onChange:l=>h(l.target.value),id:"email",className:"form-input w-full",type:"email",required:!0,placeholder:"Email"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium",htmlFor:"phone",children:["Telefon ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{value:p,onChange:l=>f(l.target.value),id:"phone",className:"form-input w-full",type:"text",required:!0,placeholder:"Telefon"})]})]})]}),t.jsxs("div",{className:"py-6",children:[t.jsxs("div",{className:"mb-5 text-lg font-bold text-gray-800",children:[t.jsx("span",{className:"text-blue-500",children:"2."})," Zanechte Svou Zprávu"]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-800",htmlFor:"description",children:["Zpráva ",t.jsx("span",{className:"text-rose-500",children:"*"})]}),t.jsx("textarea",{value:u,onChange:l=>c(l.target.value),id:"description",className:"form-textarea w-full py-2 text-sm",rows:4,required:!0})]})}),t.jsx(M,{termsTitle:e,triggerText:"Odesláním dotazu souhlasím se zpracováním osobních údajů pouze pro účely zpracování vašeho dotazu.",children:s}),t.jsx("button",{type:"submit",className:"btn group bg-blue-600 text-white hover:bg-blue-700 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",disabled:j||!z(),children:j?"Odesílám...":"Odeslat"}),E&&t.jsxs("div",{className:"flex items-center gap-2 text-green-500 mt-4 text-sm bg-green-100 p-2 rounded-md",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-message-circle-plus-icon lucide-message-circle-plus",children:[t.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}),t.jsx("path",{d:"M8 12h8"}),t.jsx("path",{d:"M12 8v8"})]}),"Děkuji za zanechání Vaší zprávy, odpovím Vám v nejbližší možné době."]}),V&&t.jsxs("div",{className:"flex items-center gap-2 text-red-500 mt-4 text-sm bg-red-100 p-2 rounded-md",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-message-circle-off-icon lucide-message-circle-off",children:[t.jsx("path",{d:"M20.5 14.9A9 9 0 0 0 9.1 3.5"}),t.jsx("path",{d:"m2 2 20 20"}),t.jsx("path",{d:"M5.6 5.6C3 8.3 2.2 12.5 4 16l-2 6 6-2c3.4 1.8 7.6 1.1 10.3-1.7"})]})," ","Omlouváme se, ale došlo k problému při odesílání Vaší zprávy, zkuste to později nebo mě kontaktujte prostřednictvím jiného kanálu."]})]})]})})]})}export{ie as default};

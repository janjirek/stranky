import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as h}from"./index.BB0SbgvW.js";import{c as l}from"./utils.DFkcVZyr.js";const p={src:"/_astro/testemonial-badge.CK9pNCbN.png"},u=Math.sqrt(5e3),g=({position:s,testimonial:c,handleMove:d,cardSize:n})=>{const i=s===0;return t.jsxs("div",{onClick:()=>d(s),className:l("absolute left-1/2 top-1/2 cursor-pointer border-2 p-8 transition-all duration-500 ease-in-out",i?"z-10 bg-primary text-primary-foreground border-primary":"z-0 bg-card text-card-foreground border-border hover:border-primary/50"),style:{width:n,height:n,clipPath:"polygon(50px 0%, calc(100% - 50px) 0%, 100% 50px, 100% 100%, calc(100% - 50px) 100%, 50px 100%, 0 100%, 0 0)",transform:`
          translate(-50%, -50%) 
          translateX(${n/1.5*s}px)
          translateY(${i?-65:s%2?15:-15}px)
          rotate(${i?0:s%2?2.5:-2.5}deg)
        `,boxShadow:i?"0px 8px 0px 4px hsl(var(--border))":"0px 0px 0px 0px transparent"},children:[t.jsx("span",{className:"absolute block origin-top-right rotate-45 bg-border",style:{right:-2,top:48,width:u,height:2}}),t.jsx("img",{src:p.src,alt:"Jan Jirek Reality",className:"mb-4 h-16 w-12 bg-muted object-cover object-top",style:{boxShadow:"3px 3px 0px hsl(var(--background))"}}),t.jsxs("h3",{className:l("text-base sm:text-xl font-mono",i?"text-primary-foreground":"text-foreground"),children:['"',c.data.content,'"']}),t.jsxs("p",{className:l("absolute bottom-6 left-8 right-8 mt-2 text-sm italic",i?"text-primary-foreground/80":"text-muted-foreground"),children:["- ",c.data.fullname]})]})},v=({testimonials:s})=>{const[c,d]=h.useState(450),[n,i]=h.useState(s),x=o=>{const r=[...n];if(o>0)for(let e=o;e>0;e--){const a=r.shift();if(!a)return;r.push({...a})}else for(let e=o;e<0;e++){const a=r.pop();if(!a)return;r.unshift({...a})}i(r)};return h.useEffect(()=>{const o=()=>{const{matches:r}=window.matchMedia("(min-width: 640px)");d(r?450:290),i(r?s.map(e=>({...e,data:{...e.data,content:e.data.content.slice(0,280)+"..."}})):s.map(e=>({...e,data:{...e.data,content:e.data.content.slice(0,90)+"..."}})))};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),t.jsxs("div",{className:"relative w-full overflow-hidden bg-muted/30",style:{height:600},children:[n.map((o,r)=>{const e=n.length%2?r-(n.length+1)/2:r-n.length/2;return t.jsx(g,{testimonial:o,handleMove:x,position:e,cardSize:c},o.id)}),t.jsxs("div",{className:"absolute bottom-4 left-1/2 flex -translate-x-1/2 gap-2",children:[t.jsx("button",{onClick:()=>x(-1),className:l("flex h-14 w-14 items-center justify-center text-2xl transition-colors","bg-background border-2 border-border hover:bg-primary hover:text-primary-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),"aria-label":"Previous testimonial",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m15 18-6-6 6-6"})})}),t.jsx("button",{onClick:()=>x(1),className:l("flex h-14 w-14 items-center justify-center text-2xl transition-colors","bg-background border-2 border-border hover:bg-primary hover:text-primary-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),"aria-label":"Next testimonial",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"m9 18 6-6-6-6"})})})]})]})};export{v as StaggerTestimonials};
